# 第二期作业

## 一、环境的搭建

### 1、安装Rust：

![](C:\Users\tianen\Desktop\1.png)

### 2、安装依赖

![](C:\Users\tianen\Desktop\2.png)

### 3、配置环境，修改软链接

![](C:\Users\tianen\Desktop\3.png)

### 4、编译BusyBox

![](C:\Users\tianen\Desktop\4.png)

### 5、安装Qemu

![](C:\Users\tianen\Desktop\5.png)

![](C:\Users\tianen\Desktop\6.png)

### 6、进入源码，使能Rust

![](C:\Users\tianen\Desktop\7.png)

![](C:\Users\tianen\Desktop\8.png)

![](C:\Users\tianen\Desktop\9.png)

## 二、作业1：编译内核

![](C:\Users\tianen\Desktop\10.png)

![](C:\Users\tianen\Desktop\11.png)

![](C:\Users\tianen\Desktop\12.png)

![](C:\Users\tianen\Desktop\13.png)

## 三、作业2：编译网卡驱动

1、编译成内核模块，是在哪个文件中以哪条语句定义的？

```
Kbuild中的obj-m := r4l_e1000_demo.o
```

2、该模块位于独立的文件夹内，却能编译成Linux内核模块，这叫做out-of-tree module，请分析它是如何与内核代码产生联系的？

```
Out-of-tree模块与内核代码产生联系的关键是内核提供了一些接口和工具，使得编写、编译和加载这些模块成为可能。
```

![](C:\Users\tianen\Desktop\14.png)

![](C:\Users\tianen\Desktop\15.png)

## 四、作业3：编译Helloworld

![](C:\Users\tianen\Desktop\16.png)

![](C:\Users\tianen\Desktop\17.png)

## 六、作业5：Rust编写字符设备驱动

![](C:\Users\tianen\Desktop\18.png)

![](C:\Users\tianen\Desktop\19.png)

![](C:\Users\tianen\Desktop\20.png)


